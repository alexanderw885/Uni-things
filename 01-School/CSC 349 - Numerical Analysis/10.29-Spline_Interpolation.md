Instead of using one polynomial over the entire line, we can split it into multiple "piecewise" polynomials.

### Spline interpolation
This can be done linearly, each section between two points a straight line between them:
![[Pasted image 20251029103844.png]]
This is simple, but it's not differentiable at each point. These points are called "knots".

Instead, we can use quadratic polynomials. a quadratic line between $[x_i, x_{i+1}]$ is not unique, but they can be chosen to make the piecewise function differentiable. If it's differentiable, the function is a *spline* function.

**Definition**: $S(x)$ is a spline function on $[x_0,x_n]$ if for some $q\geq1$:
- $S(x)$ is a polynomial of degree $q$ on each sub-interval $[x_i,x_{i+1}]$
- $S(x)$ and it's first $q-1$ derivatives are continuous on $[x_0,x_n]$

Linear splines have $q=1$, quadratic have $q=2$, and cubic have $q=3$.

#### Cubic spline interpolation
For a cubit spline $S(x)$, where $S_j$ denotes the polynomial between $[x_j,x_{j+1}]$:
1. $S_j$ must be a cubic polynomial
2. $S_j(x_j)$ must equal $f(x_j)$ , $S_{j-1}(x_j)=f(x_j)$
3. the endpoint of $S_j$ must equal the start of $S_{j+1}$: $S_j(x_{j+1})=S_{j+1}(x_{j+1})$ 
4. the endpoint of $S'_j$ must equal the start of $S'_{j+1}$: $S'_j(x_{j+1})=S'_{j+1}(x_{j+1})$
5. the endpoint of $S''_j$ must equal the start of $S''_{j+1}$: $S''_j(x_{j+1})=S''_{j+1}(x_{j+1})$
And, one of the following must hold:
6. $S''(x_0)=S''(x_n)=0$   (natural bounds)
7. $S'(x_0)=f'(x_0)$ and $S'(x_0)=f'(x_n)$ (clamped bounds)

There is a *unique* cubic spline that fulfils all of these requirements. 
