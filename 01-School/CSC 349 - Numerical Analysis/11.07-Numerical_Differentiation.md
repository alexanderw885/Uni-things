Using numerical formulas to calculate derivatives.

We've already used [Taylor's Theorem](09.19-Taylor's_Theorem) to differentiate earlier. 
We're going to slightly rewrite Taylor's formula. Let's let $h=(x-x_0)$. Now, for $n=2$ and the remainder term, we get this formula:
![[Pasted image 20251107103951.png]]
Where $x_0\leq\xi_1\leq{}h+x_0$
If we solve for $f'(0)$, we get:
$$f'(x_0)\approx\frac{f(x_0+h)-f(x_0)}{h}$$
with the error:
$$-\frac{f''(x_0)}{2}h-\frac{f'''(\xi_1)}{6}h^2$$
That formula for $f'(x)$ just like a regular rise over run formula to calculate slope. Just like the limit method to calculate a derivative.
The error in this is $O(h)$.

### Backward Finite-Divided difference approximation
Now, lets let $x=x_0-h$, or $-h=x-x_0$.
Again, plug it in and solve for $f'(x_0)$:
$$f'(x_0)\approx\frac{f(x_0)-f(x_0-h)}{h}$$
This also has error $O(h)$.

### Central Difference Approximation
We can get a more accurate approximation by averaging the two formulas and simplifying: Now, $h$ is just the step size.
$$f'(x)\approx\frac{f(x_0+h)-f(x_0-h)}{2h}$$
This has error $O(h^2)$, which is better. As $h$ decreases below $1$, the error decreases faster.

Conceptually, this is just finding the slope between the point before and after where we want to calculate the derivative. We can extend this idea further by including more points. If, for example, we wanted to calculate the derivative using $2$ points before and after, we get this:
![[Pasted image 20251107105216.png]]
It's more complicated, but it has error $O(h^4)$, much better than the other methods but also more expensive to calculate.

### Higher order derivatives
We can use the same idea to calculate higher order derivatives. Write out the approximation, then rearrange to solve for them. For example, to calculate the second derivative:
![[Pasted image 20251107110015.png]]
With error $O(h^2)$.
I see a 1-2-1 pattern, is pascal's triangle involved?